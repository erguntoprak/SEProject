
<div class="breadcrumb-area">
    <h1>Blog Düzenle</h1>
  
    <ol class="breadcrumb">
        <li class="item"><a routerLink="/panel" ><i class="bx bx-home-alt"></i></a></li>
    </ol>
  </div>
<div class="card mb-30">
  <div class="card-body">
    <form [formGroup]="blogUpdateForm" (ngSubmit)="onUpdateBlogSubmit()">
      <div class="form-row" *ngIf="errorList">
        <span class="not-valid" *ngFor="let error of errorList">
          {{error}}
        </span>
      </div>
      <div class="form-row">
        <div class="form-group col-md-12">
          <label>Başlık</label>
          <input formControlName="title" class="form-control" placeholder="Başlık" />
          <span class="not-valid" *ngIf="submitted && blogUpdateForm.get('title').errors != null ? blogUpdateForm.get('title').errors.required:false">
            Lütfen başlık giriniz.
          </span>
        </div>
        <div class="form-group col-md-12" *ngIf="blogUpdateForm.get('firstVisibleImageName').value">
          <div class="blog-image">
            <img id="first-visible-image" width="300" height="500" [src]="firstVisibleImageName" alt="Alternate Text" />
          </div>
        </div>
        <div class="form-group col-md-12">
          <label>Sayfalarda Gösterilecek İlk Görsel</label>
          <div class="custom-file">
            <input type="file" class="custom-file-input" accept="image/*" (change)="onFirstVisibleImageSelectFile($event)">
            <label class="custom-file-label">Görsel Seç</label>
          </div>
          <span class="not-valid" *ngIf="submitted && blogUpdateForm.get('firstVisibleImageName').errors != null ? blogUpdateForm.get('firstVisibleImageName').errors.required:false">
            Lütfen sayfalarda gösterilecek ilk görsel seçiniz.
          </span>
        </div>
      </div>
      <div formArrayName="blogItems" class="col-md-12">
        <div class="form-row group-box" [formGroupName]="i" *ngFor="let item of getBlogItemControl(); let i = index;">
          <div class="form-group col-md-12" *ngIf="item.value.imageName !=''">
            <div class="blog-image">
              <span class="remove-button" (click)="removeImage(i)"><i class="bx bxs-no-entry"></i></span>
              <img width="300" height="500" [src]="blogItemList[i]" alt="Alternate Text" />
            </div>
          </div>
          <div class="form-group col-md-12">
            <div class="custom-file">
              <input type="file" class="custom-file-input" accept="image/*" (change)="onSelectFile($event,i)">
              <label class="custom-file-label">Görsel Seç</label>
            </div>
          </div>
          <div class="form-group col-md-12">
            <angular-editor formControlName="description" [config]="editorConfig"></angular-editor>
          </div>
        </div>
      </div>
      <button class="btn btn-primary next-button float-right" type="submit">Kaydet</button>
      <button class="btn btn-primary previous-button float-right" (click)="addBlogItem()" type="button">Blok Ekle</button>
    </form>
  </div>
</div>

